<style >
	.handle:hover{cursor: move;}
</style>
<%= javascript_include_tag "https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js", "https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.14/jquery-ui.min.js", "rails.js" %>

 <%= javascript_tag do %>
 // Sorting the list
 $(document).ready(function()
 {
 $('#items').sortable(
 {
 axis: 'x',
 dropOnEmpty: false,
 handle: '.handle',
 cursor: 'crosshair',
 items: 'li',
 opacity: 0.4,
 scroll: true,
 update: function()
 {
 $.ajax(
 {
 type: 'post',
 data: $('#items').sortable('serialize') + "&title=" + $('#title').val() + "&authenticity_token=" + "<%= form_authenticity_token %>",
 dataType: 'script',
 complete: function(request)
 {
 $('#items').effect('highlight');
 },
 url: '<%= "/lists/#{id}/items/sort" %>'
 })
 }
 });
 });
 <% end %>